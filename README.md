# dino-ctf

Задача: Для прохождения необходимо заработать 99999 очков.

## Решение

1. Необходимо запустить движение динозаврика, после чего нажать F12 и перейти в Console.

2. В консоле выполняем (для удобства, необязательно): 
	- `Runner.instance_.gameOver = ()=>{};`	-- отключает обработчик столкновений

3. И затем уже получаем наши заветные баллы:
	- `Runner.instance_.distanceRan = 99999 / Runner.instance_.distanceMeter.config.COEFFICIENT;` -- заносим в distanceRan необходимое значение
	- `Runner.instance_.distanceMeter.update(99999);` -- обновляем отрисовку счёта

## FAQ для организаторов:

1. В каком виде даётся ответ:
	- Когда эксплуатация произведена выводится alert из JavaScript содержащий текст: `flag{blablabla}`
	
2. `nginx.conf.template` -- файл содержащий NGINX конфигурацию для примера.

3. Как сокрыта информация от того, кто решает таск:
	- Для определения того, что игрок набрал необходимое количество очков используется выражение if:
    ```js
	if (this.distanceRan >= 11111 + 22222 + 33333 + 33333) {
		this._someFunc();
	}
    ```
	Использование суммы вместо 99999 позволяет сокрыть часть кода с вызовом функции _someFunc от игрока, чтобы не пытался найти ответ через код страницы
	
	- Сама функция `_someFunc` имеет следующий вид:
	```js
	_someFunc: function() {
		const _0x5e6f = [0x66, 0x6c, 0x61, 0x67, 0x7b, 0x62, 0x6c, 0x61, 0x62, 0x6c, 0x61, 0x62, 0x6c, 0x61, 0x7d];
		const str = _0x5e6f.map(x => String.fromCharCode(x)).join('');
		(function(){return window['alert'](str)})();
	},
	```
	Чтобы игрок не мог найти ответ по слову `flag` весь выводимый текст спрятан в HEX
	
4. Как изменить `flag{blablabla}` на необходимый флаг:
	- Перейти на сайт https://www.rapidtables.com/convert/number/ascii-to-hex.html
	- Указать параметр From: Text, To: Hexadecimal
	- Ввести необходимый текст, который должен вывести алерт, расмотрим на примере уже привычного `flag{blablabla}`
	- Указываем `Character encoding`: Unicode
	- В результате получаем: `66 6C 61 67 7B 62 6C 61 62 6C 61 62 6C 61 7D`
	- Преобразуем в вид: `0x66, 0x6c, 0x61, 0x67, 0x7b, 0x62, 0x6c, 0x61, 0x62, 0x6c, 0x61, 0x62, 0x6c, 0x61, 0x7d`
	- Заменяем в коде и всё готово
	- Также можно выполнить обратное преобразование, чтобы убедиться в валидности
